{% extends 'base_site.html' %}
{% load static %}

{% block style %}
    <style>
        .bg-image {
            background: url({% static 'images/variant_logo.jpg' %}) center;
            background-size: cover;
        }
    </style>
{% endblock %}

{% block content %}
    <div class='container'>
        <div class='card o-hidden border-0 shadow-lg my-5'>
            <div class='card-body p-0'>
                <div class='row'>
                    <div class='col-lg-5 d-none d-lg-block bg-image'></div>
                    <div class='col-lg-7'>
                        <div class='p-5'>
                            <div class='text-center'>
                                <h1 class='h4 text-gray-900 mb-4'>Create an Account!</h1>
                            </div>
                            <form method='post'>
                                {% csrf_token %}
                                <div class='form-group required my-2'>{{ form.username }}</div>
                                <div class='form-group required my-2'>
                                    {{ form.email }}
                                </div>
                                <div class='form-group row my-2'>
                                    <div class='col-6 mb-3 mb-sm-0 required'>{{ form.password }}</div>
                                    <div class='col-6'>{{ form.password2 }}</div>
                                </div>
                                <div class='form-group row my-2'>
                                    <div class='col-12 mb-3 mb-sm-0 required'>
                                        <button type='submit' class='btn btn-primary btn-user col-12'>Register Account</button>
                                    </div>
                                </div>
                            </form>
                            <hr>
                            <div class='text-center'>
                                <a class='small' href='{% url 'login' %}'>Already have an account? Login!</a>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
{% endblock %}

{% block script %}
    <script>
        const password = document.getElementById('id_password1');
        const confirm_password = document.getElementById('id_password2');

        function validatePassword() {
            if (password.value !== confirm_password.value) {
                confirm_password.setCustomValidity("Passwords Don't Match");
            } else {
                confirm_password.setCustomValidity('');
            }
        }

        password.onchange = validatePassword;
        confirm_password.onkeyup = validatePassword;

    </script>
{% endblock %}